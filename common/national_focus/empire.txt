#IMPERIAL FOCUS TREE#
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}

focus_tree = {
	id = imp_focus

	country = {
		factor = 0
		modifier = {
			add = 10
			OR = {
				original_tag = IMP
			}
		}
	}

	default = no
	continuous_focus_position = { x = 25 y = 3500}

	initial_show_position = {
		x = 0
		y = 0
	}
	
	focus = {
		id = imp_emergency_power
		icon = GFX_focus_deploy_trooper
		x = 5
		y = 0

		cost = 1

		search_filters = { FOCUS_FILTER_POLITICAL }

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		ai_will_do = {
			factor = 50

		}
		completion_reward = {
			country_event = {
				id = imperial.6
			}
		}
	}

	focus = {
		id = imp_assessing_the_situation
		icon = GFX_focus_survey
		x = 0
		y = 1
		relative_position_id = imp_emergency_power
		cost = 1
		prerequisite =
		{
			focus = imp_emergency_power
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }

		completion_reward =
		{
			country_event = {
				id = imperial.0
			}
		}
	}

	focus = {
		id = imp_repair
		icon = GFX_focus_reconstruction
		cost = 1
		prerequisite = {
			focus = imp_salvaging_the_equipment
		}
		x = 0
		y = 2
		search_filters = { FOCUS_FILTER_POLITICAL }
		relative_position_id = imp_assessing_the_situation
		completion_reward = {
			country_event = {
				id = imperial.2
			}
		}
	}


	focus = {
		id = imp_regrouping_of_command
		icon = GFX_focus_reconstruction
		cost = 1
		prerequisite = {
			focus = imp_repair
		}
		x = 0
		y = 1
		search_filters = { FOCUS_FILTER_POLITICAL }
		relative_position_id = imp_repair
		completion_reward = {
			add_stability = 0.03
			add_political_power = 25
			add_command_power = 10
		}
	}

	


	focus = {
		id = imp_salvaging_the_equipment
		icon = GFX_focus_investigate
		cost = 1
		prerequisite = {
			focus = imp_assessing_the_situation
		}
		x = 0
		y = 1
		search_filters = { FOCUS_FILTER_POLITICAL }
		relative_position_id = imp_assessing_the_situation
		completion_reward = {
			country_event = {
				id = imperial.1
			}
		}
	}




	focus = {
		id = imp_subjugate_iraq
		icon = GFX_goal_generic_forceful_treaty
		will_lead_to_war_with = IRQ
		cost = 2
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		prerequisite = {
			focus = imp_regrouping_of_command
		}

		bypass = {
			OR = {
				NOT = {
					country_exists = IRQ
				}
				IRQ = {
					OR = {
						is_subject_of = IMP
						is_puppet_of = IMP
					}
				}
			}
		}
		x = 1
		y = 1
		relative_position_id = imp_regrouping_of_command
		completion_reward = {
			declare_war_on = {
				type = puppet_wargoal_focus
				target = IRQ
			}
			IRQ = {
				set_rule = {
					can_create_factions = no
					can_join_factions = no
				}
			}
			custom_effect_tooltip = IMP_INSTANT_WAR
			hidden_effect = {
				add_ai_strategy = {
					type = invade
					id = IRQ
					value = 200
				}
			}
		}
	}

	focus =
	{
		id = imp_subjugate_saudi
		icon = GFX_goal_generic_forceful_treaty
		will_lead_to_war_with = SAU
		cost = 2
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
		prerequisite = {
			focus = imp_regrouping_of_command
		}

		bypass = {
			OR = {
				NOT = {
					country_exists = SAU
				}
				SAU = {
					OR = {
						is_subject_of = IMP
						is_puppet_of = IMP
					}
				}
			}
		}
		x = -2
		y = 0
		relative_position_id = imp_subjugate_iraq
		completion_reward = {
			declare_war_on = {
				type = puppet_wargoal_focus
				target = SAU
			}
			SAU = {
				set_rule = {
					can_create_factions = no
					can_join_factions = no
				}
			}
			custom_effect_tooltip = IMP_INSTANT_WAR
			hidden_effect = {
				add_ai_strategy = {
					type = invade
					id = SAU
					value = 200
				}
			}
		}
	}

	focus = {
		id = imp_begining_ship_repairs
		icon = GFX
		cost = 2
		prerequisite = {
			focus = imp_subjugate_iraq
		}
		prerequisite = {
			focus = imp_subjugate_saudi
		}
		x = 0
		y = 2
		relative_position_id = imp_regrouping_of_command
	
		completion_reward = {
			swap_ideas = {
				remove_idea = ruined_ship
				add_idea = damaged_ship
			}
		}
	}

	focus = {
		id = imp_salvage_the_armouries
		icon = GFX_unique_tech_10_medium
		cost = 4
		prerequisite = {
			focus = imp_begining_ship_repairs
		}
		x = -2
		y = 1
		relative_position_id = imp_begining_ship_repairs
		completion_reward = {
			add_equipment_to_stockpile = {
				type = republic_equipment_1
				amount = 250
				producer = IMP
			}
			656 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		 }
	}
	
	focus = {
		id = imp_equip_the_garrisons
		icon = GFX_unique_tech_10_medium
		cost = 4
		prerequisite = {
			focus = imp_salvage_the_armouries
		}
		x = -1
		y = 1
		relative_position_id = imp_salvage_the_armouries
		completion_reward = {
			add_equipment_to_stockpile = {
				type = support_equipment
				amount = 250
				producer = IMP
			}
			656 = {
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = anti_air_building
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = imp_setting_up_defences
		icon = GFX_unique_tech_10_medium
		cost = 4
		prerequisite = {
			focus = imp_salvage_the_armouries
		}
		x = 1
		y = 1
		relative_position_id = imp_salvage_the_armouries
		completion_reward = {
			656 = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = 8005
					instant_build = yes
				}
			}
		 }
	}

	focus = {
		id = imp_deploy_the_remaining_troops
		icon = GFX_unique_tech_10_medium
		cost = 2
		prerequisite = {
			focus = imp_equip_the_garrisons
		}
		prerequisite = {
			focus = imp_setting_up_defences
		}
		x = 0
		y = 2
		relative_position_id = imp_salvage_the_armouries
		completion_reward = {
			load_oob = "imp_deployed_troops"
			army_experience = 15
			add_command_power = 10
		}
	}

	focus = {
		id = imp_begin_fixing_the_reactor
		icon = GFX_unique_tech_10_medium
		cost = 4
		prerequisite = {
			focus = imp_begining_ship_repairs
		}
		x = 2
		y = 1
		relative_position_id = imp_begining_ship_repairs
		completion_reward = {
			add_ideas = imp_reactor_works_0
			656 = {
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = imp_secure_the_fuel_rods
		icon = GFX_unique_tech_10_medium
		cost = 4
		prerequisite = {
			focus = imp_begin_fixing_the_reactor
		}
		x = -1
		y = 1
		relative_position_id = imp_begin_fixing_the_reactor
		completion_reward = {
			656 = {
				add_building_construction = {
					type = fuel_silo
					level = 2
					instant_build = yes
				}
				add_extra_state_shared_building_slots = 1
			}
			add_fuel = 4000
		}
	}

	focus = {
		id = imp_start_water_filtration
		icon = GFX_unique_tech_10_medium
		cost = 4
		prerequisite = {
			focus = imp_begin_fixing_the_reactor
		}
		x = 1
		y = 1
		relative_position_id = imp_begin_fixing_the_reactor
		completion_reward = {
			add_stability = 0.05
			add_political_power = 50
			656 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}

	focus = {
		id = imp_stage_one_reactor_repairs
		icon = GFX_unique_tech_10_medium
		cost = 4
		prerequisite = {
			focus = imp_secure_the_fuel_rods
		}
		prerequisite = {
			focus = imp_start_water_filtration
		}
		x = 0
		y = 2
		relative_position_id = imp_begin_fixing_the_reactor
		completion_reward = {
			swap_ideas = {
				remove_idea = imp_reactor_works_0
				add_idea = imp_reactor_works_1
			}
		 }
	}

	focus = {
		id = imp_raising_new_conscripts
		icon = GFX_unique_tech_10_medium
		cost = 4
		prerequisite = {
			focus = imp_deploy_the_remaining_troops
		}
		mutually_exclusive = {
			focus = imp_fortify_the_crash_site
		}
		x = -1
		y = 1
		relative_position_id = imp_deploy_the_remaining_troops
		completion_reward = {
			add_manpower = 1000
			add_war_support = 0.05
			army_experience = 5
		}
	}
	
	focus = {
		id = imp_fortify_the_crash_site
		icon = GFX_unique_tech_10_medium
		cost = 4
		prerequisite = {
			focus = imp_deploy_the_remaining_troops
		}
		mutually_exclusive = {
			focus = imp_raising_new_conscripts
		}
		x = 1
		y = 1
		relative_position_id = imp_deploy_the_remaining_troops
		completion_reward = {
			656 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 8005 
					instant_build = yes
				}

				add_building_construction = {
					type = coastal_bunker
					level = 2
					province = 8005
					instant_build = yes
				}
			}
		 }
	}

	focus = {
		id = imp_focus_on_the_shields
		icon = GFX_unique_tech_10_medium
		cost = 3
		prerequisite = {
			focus = imp_stage_one_reactor_repairs
		}
		mutually_exclusive = {
			focus = imp_focus_on_radar
		}
		x = -1
		y = 1
		relative_position_id = imp_stage_one_reactor_repairs
		completion_reward = {
			add_ideas = imp_base_shielding
		}
	}

	focus = {
		id = imp_focus_on_radar
		icon = GFX_unique_tech_10_medium
		cost = 4
		prerequisite = {
			focus = imp_stage_one_reactor_repairs
		}
		mutually_exclusive = {
			focus = imp_focus_on_the_shields
		}
		x = 1
		y = 1
		relative_position_id = imp_stage_one_reactor_repairs
		completion_reward = {
			add_idea = auxiliary_systems
		}
	}

	focus = {
		id = imp_bring_the_holo_maps_online
		icon = GFX_unique_tech_10_medium
		cost = 3
		prerequisite = {
			focus = imp_fortify_the_crash_site
			focus = imp_raising_new_conscripts
		}

		prerequisite = {
			focus = imp_focus_on_radar
			focus = imp_focus_on_the_shields
		}
		x = 0
		y = 5
		relative_position_id = imp_begining_ship_repairs
		completion_reward = {
			country_event = {
			 id = imperial_story.4
			 days = 1
			}
			add_political_power = 10
		}
	}

	focus = {
		id = imp_restoring_order_to_the_cities
		icon = GFX_unique_tech_10_medium
		cost = 4
		x = -1
		y = 1
		prerequisite = {
			focus = imp_bring_the_holo_maps_online
		}
		relative_position_id = imp_bring_the_holo_maps_online
		completion_reward = {
			291 = {
				add_core_of = IMP
			}
			675 = {
				add_core_of = IMP
			}
			676 = {
				add_core_of = IMP
			}
		 }
	}

	focus = {
		id = imp_restoring_order_over_the_desert
		icon = GFX_unique_tech_10_medium
		cost = 4
		x = 1
		y = 1
		relative_position_id = imp_bring_the_holo_maps_online
		prerequisite = {
			focus = imp_bring_the_holo_maps_online
		}
		completion_reward = {
			292 = {
				add_core_of = IMP
			}
			854 = {
				add_core_of = IMP
			}
			855 = {
				add_core_of = IMP
			}
			679 = {
				add_core_of = IMP
			}
			856 = {
				add_core_of = IMP
			}
			858 = {
				add_core_of = IMP
			}
			678 = {
				add_core_of = IMP
			}
			859 = {
				add_core_of = IMP
			}
		 }
	}

 #END OF THE FOCUS TREE 
}
